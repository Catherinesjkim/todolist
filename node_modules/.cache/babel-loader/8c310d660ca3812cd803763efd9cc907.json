{"ast":null,"code":"import _concatInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/concat\";\nimport _Object$keys from \"@babel/runtime-corejs3/core-js-stable/object/keys\";\nimport { isString } from '../lang';\nimport logFactory from '../logger';\nvar log = logFactory('', {\n  displayAllErrors: true\n});\nvar usedKeysMap = {};\nexport function validateApiKey(maybeApiKey) {\n  var apiKey = false;\n\n  if (maybeApiKey == undefined) {\n    // eslint-disable-line eqeqeq\n    log.error('Factory instantiation: you passed a null or undefined api_key, api_key must be a non-empty string.');\n  } else if (isString(maybeApiKey)) {\n    if (maybeApiKey.length > 0) apiKey = maybeApiKey;else log.error('Factory instantiation: you passed an empty api_key, api_key must be a non-empty string.');\n  } else {\n    log.error('Factory instantiation: you passed an invalid api_key, api_key must be a non-empty string.');\n  } // If the apiKey is correct, we'll save it as the instance creation should work.\n\n\n  if (apiKey) {\n    if (!usedKeysMap[apiKey]) {\n      // If this key is not present, only warning scenarios is that we have factories for other keys.\n      usedKeysMap[apiKey] = 1;\n\n      if (_Object$keys(usedKeysMap).length > 1) {\n        log.warn('Factory instantiation: You already have an instance of the Split factory. Make sure you definitely want this additional instance. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application.');\n      }\n    } else {\n      var _context;\n\n      log.warn(_concatInstanceProperty(_context = \"Factory instantiation: You already have \".concat(usedKeysMap[apiKey], \" \")).call(_context, usedKeysMap[apiKey] === 1 ? 'factory' : 'factories', \" with this API Key. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application.\"));\n      usedKeysMap[apiKey]++;\n    }\n  }\n\n  return apiKey;\n}\nexport function releaseApiKey(apiKey) {\n  if (usedKeysMap[apiKey]) usedKeysMap[apiKey]--;\n  if (usedKeysMap[apiKey] === 0) delete usedKeysMap[apiKey];\n}","map":{"version":3,"sources":["/Users/talianassi/Desktop/todolist/node_modules/@splitsoftware/splitio/es/utils/inputValidation/apiKey.js"],"names":["_concatInstanceProperty","_Object$keys","isString","logFactory","log","displayAllErrors","usedKeysMap","validateApiKey","maybeApiKey","apiKey","undefined","error","length","warn","_context","concat","call","releaseApiKey"],"mappings":"AAAA,OAAOA,uBAAP,MAAoC,uDAApC;AACA,OAAOC,YAAP,MAAyB,mDAAzB;AACA,SAASC,QAAT,QAAyB,SAAzB;AACA,OAAOC,UAAP,MAAuB,WAAvB;AACA,IAAIC,GAAG,GAAGD,UAAU,CAAC,EAAD,EAAK;AACvBE,EAAAA,gBAAgB,EAAE;AADK,CAAL,CAApB;AAGA,IAAIC,WAAW,GAAG,EAAlB;AACA,OAAO,SAASC,cAAT,CAAwBC,WAAxB,EAAqC;AAC1C,MAAIC,MAAM,GAAG,KAAb;;AAEA,MAAID,WAAW,IAAIE,SAAnB,EAA8B;AAC5B;AACAN,IAAAA,GAAG,CAACO,KAAJ,CAAU,oGAAV;AACD,GAHD,MAGO,IAAIT,QAAQ,CAACM,WAAD,CAAZ,EAA2B;AAChC,QAAIA,WAAW,CAACI,MAAZ,GAAqB,CAAzB,EAA4BH,MAAM,GAAGD,WAAT,CAA5B,KAAsDJ,GAAG,CAACO,KAAJ,CAAU,yFAAV;AACvD,GAFM,MAEA;AACLP,IAAAA,GAAG,CAACO,KAAJ,CAAU,2FAAV;AACD,GAVyC,CAUxC;;;AAGF,MAAIF,MAAJ,EAAY;AACV,QAAI,CAACH,WAAW,CAACG,MAAD,CAAhB,EAA0B;AACxB;AACAH,MAAAA,WAAW,CAACG,MAAD,CAAX,GAAsB,CAAtB;;AAEA,UAAIR,YAAY,CAACK,WAAD,CAAZ,CAA0BM,MAA1B,GAAmC,CAAvC,EAA0C;AACxCR,QAAAA,GAAG,CAACS,IAAJ,CAAS,sQAAT;AACD;AACF,KAPD,MAOO;AACL,UAAIC,QAAJ;;AAEAV,MAAAA,GAAG,CAACS,IAAJ,CAASb,uBAAuB,CAACc,QAAQ,GAAG,2CAA2CC,MAA3C,CAAkDT,WAAW,CAACG,MAAD,CAA7D,EAAuE,GAAvE,CAAZ,CAAvB,CAAgHO,IAAhH,CAAqHF,QAArH,EAA+HR,WAAW,CAACG,MAAD,CAAX,KAAwB,CAAxB,GAA4B,SAA5B,GAAwC,WAAvK,EAAoL,wJAApL,CAAT;AACAH,MAAAA,WAAW,CAACG,MAAD,CAAX;AACD;AACF;;AAED,SAAOA,MAAP;AACD;AACD,OAAO,SAASQ,aAAT,CAAuBR,MAAvB,EAA+B;AACpC,MAAIH,WAAW,CAACG,MAAD,CAAf,EAAyBH,WAAW,CAACG,MAAD,CAAX;AACzB,MAAIH,WAAW,CAACG,MAAD,CAAX,KAAwB,CAA5B,EAA+B,OAAOH,WAAW,CAACG,MAAD,CAAlB;AAChC","sourcesContent":["import _concatInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/concat\";\nimport _Object$keys from \"@babel/runtime-corejs3/core-js-stable/object/keys\";\nimport { isString } from '../lang';\nimport logFactory from '../logger';\nvar log = logFactory('', {\n  displayAllErrors: true\n});\nvar usedKeysMap = {};\nexport function validateApiKey(maybeApiKey) {\n  var apiKey = false;\n\n  if (maybeApiKey == undefined) {\n    // eslint-disable-line eqeqeq\n    log.error('Factory instantiation: you passed a null or undefined api_key, api_key must be a non-empty string.');\n  } else if (isString(maybeApiKey)) {\n    if (maybeApiKey.length > 0) apiKey = maybeApiKey;else log.error('Factory instantiation: you passed an empty api_key, api_key must be a non-empty string.');\n  } else {\n    log.error('Factory instantiation: you passed an invalid api_key, api_key must be a non-empty string.');\n  } // If the apiKey is correct, we'll save it as the instance creation should work.\n\n\n  if (apiKey) {\n    if (!usedKeysMap[apiKey]) {\n      // If this key is not present, only warning scenarios is that we have factories for other keys.\n      usedKeysMap[apiKey] = 1;\n\n      if (_Object$keys(usedKeysMap).length > 1) {\n        log.warn('Factory instantiation: You already have an instance of the Split factory. Make sure you definitely want this additional instance. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application.');\n      }\n    } else {\n      var _context;\n\n      log.warn(_concatInstanceProperty(_context = \"Factory instantiation: You already have \".concat(usedKeysMap[apiKey], \" \")).call(_context, usedKeysMap[apiKey] === 1 ? 'factory' : 'factories', \" with this API Key. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application.\"));\n      usedKeysMap[apiKey]++;\n    }\n  }\n\n  return apiKey;\n}\nexport function releaseApiKey(apiKey) {\n  if (usedKeysMap[apiKey]) usedKeysMap[apiKey]--;\n  if (usedKeysMap[apiKey] === 0) delete usedKeysMap[apiKey];\n}"]},"metadata":{},"sourceType":"module"}