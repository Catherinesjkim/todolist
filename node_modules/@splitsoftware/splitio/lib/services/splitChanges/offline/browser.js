"use strict";

var _interopRequireDefault = require("@babel/runtime-corejs3/helpers/interopRequireDefault");

var _Object$defineProperty = require("@babel/runtime-corejs3/core-js-stable/object/define-property");

_Object$defineProperty(exports, "__esModule", {
  value: true
});

exports.default = void 0;

var _lang = require("../../../utils/lang");

var _parseCondition = _interopRequireDefault(require("./parseCondition"));

function getConfigurationFromSettings(settings) {
  var mockSettings = settings.features || {};
  var splitObjects = {};
  (0, _lang.forOwn)(mockSettings, function (data, splitName) {
    var treatment = data;
    var config = null;

    if ((0, _lang.isObject)(data)) {
      treatment = data.treatment;
      config = data.config || config;
    }

    var configurations = {};
    if (config !== null) configurations[treatment] = config;
    splitObjects[splitName] = {
      conditions: [(0, _parseCondition.default)({
        treatment: treatment
      })],
      configurations: configurations
    };
  });
  return splitObjects;
}

var _default = getConfigurationFromSettings;
exports.default = _default;